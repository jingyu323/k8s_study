# 1.网络安全：

什么是网络安全？



## 1.1软件方案

常见防御体系：
- 边界防御体系。 就是在网络边界部署防护体系，一旦被攻破就畅通无阻
-  纵深防御体系 。 本质就是多层防御：网络边界-》网络层-》服务器端-》数据库端。

纵深防御体系介绍：
WAF web应用防火墙，是通过执行一些列的针对web安全的策略提供保护的产品。

产品能力不足：
1. 防护能力不足不足以应对黑产
2. 缺乏有效的基础业务安全防护能力
3. 审计能力不足。

对应的安全产品：
  1. 数据库端：数据库审计、数据库防火墙
  2. 服务器端：主机IDS、防火墙、内核加固类产品。

-  塔防体系 本质上也是纵深防御，强调终端也需要纳入安全防御网络中
-  河防体系。 把对手控制在一个范围内，再用丰富的资源打败他。

### DDoS 攻击
分为流量攻击和CC攻击
- 流量攻击是大量发送请求侵占正常带宽，甚至堵塞整个数据中心的出口，导致正常的用户访问无法到达业务服务器
- CC攻击主要是针对某些服务进行攻击，激发大量的资源消耗

#### 攻击方式
- TCP SYN FLOOD
  不停发送TCP SYN数据包，而不处理服务器响应的包，还有一种就是改变SYN的长度，增加资源占用
- UDP FLOOD
  发送大量的UDP包到某个端口
- 反射型攻击（又称分布式反射拒绝攻击）
  伪装成被攻击者，发起大量请求
  
#### 攻击防御
云清洗，指的是囤积大量带宽机器，过滤掉非正常请求，把正常业务请求进行转发。
####  应用实时防护（RSAP）

- 原理
  以探针的形式将保护引擎注入到应用中，可在文件、数据库、网络等多个层面对应用进行保护
- OPENRASP 测试演练
  是以nodejs形式搭建
## 业务网络安全加固
### 主机加固
  #### Linux主机OS层加固
  - 禁止root登录
  - 禁用LKM
      LKM 可加载内核模块
 - 开启 ASLR linux 内存地址随机化 
   ####  主机资产安全
   重点关注进程、账户、网络连接等层面。目的是：
   - 事中的入侵检测
   - 事后的审计与事故排查
   对应工具：
   osquery 
## 威胁情报
针对安全威胁、安全威胁着利用恶意软件漏洞和危害指标所收集的用于评估的数据集。
### 常见类型情报

### 威胁情报指示器
常见的威胁情报指示器：
IPV4
MD5
SHA2

#### 威胁情报厂商
-  天际友盟
-  微步在线
-  cymon.io
  根据厂商提供的信息来丰富自己的信息
### 业务安全
典型业务安全问题：
- 垃圾注册
- 盗用账户
- 木马钓鱼
- 恶意刷单
- 恶意炒信，恶意炒信用，欺骗用户
- 点击作弊
- 失信名单
- 短信炸弹

### API安全
开源软件KONG，管理API  授权、限流

### 风控系统 Nebula 
用于账号体系的风控审计和攻击侦测

### 代码审计
开源代码审计：RIPS 、 VGC

#### RIPS
 一款具有较强漏洞挖掘能力的自动化代码审计工具
 - 能够检测xss、SQL注入，文件泄露、远程命令执行
 - 标记存在漏洞代码行

#### VGC
基于字典的检测工具

###  蜜罐 与欺骗
#### 蜜罐
- ssh 蜜罐开源软件kippo 
- elasticsearch 服务的蜜罐Elasticpot
-  RDP 蜜罐服务 rdpy-rdphoneypot
  作用就是
- Beeswarm 是一款主动的诱骗攻击者的工具

### 态势感知
天使感知是一种基于环境的动态、整体的感知安全风险的能力，是以安全大数据为机车，从全局视角提升对安全威胁的发现识别、理解和分析响应处置能的一种方式。

包括：漏洞扫描、入侵感知、以及安全可视化、敏感信息泄露监控

#### 漏洞扫描
常见开源web免费扫描工具：

- SQLmap 是一款免费检测sql注入的工具、检测自动化
- acunetix Web Vulnerability Scanner 商业级别的web漏洞扫描程序，检测web应用程序的漏洞、SQL 注入XSS、身份认证的弱口令等。
- IBM Security AppScan 是一款很不错的web安全扫描工具

web扫描实践中的不足：
- 对API的支持差
- 爬虫能力偏弱
- 自动化能力弱
- 缺乏基础的业务安全检测能力

## 1.2 硬件方案

# 安全相关工具

## 端口扫描
- Nikto 

##  场景解决方案





## 硬件设备：


#  场景解决方案

# 安全体系

重要性
合规性
效益性

ISO27001 是规范
ISO27002 是具体实现规范

# 网络协议
sftp 单通道 默认端口22 单通道承载了 控制和数据协议

# stelnet  SSH

源端口都是未指定的 目的端口是确定的
端口的作用就是区分操作系统上不同额软件

## IP 报文头部

trcert  基于修改 ttl值探测网络传输路径

# 信息安全
网络韧性：网络运行过程中面对各种威胁条件下还能继续提供服务的能力
业务韧性：威胁条件下快速恢复业务的能力

安全韧性目标：
- 业务安全规划
- 威胁防御能力
- 快速恢复能力
  

对应规范活方法论：
TCSEC：桔皮书计算机系统安全等级指南
ISO/IEC :安全评估
等级保护制度:达到对应的安全等级基线

入侵检测设备：
- 防火墙
  
- WAF 设备
- NIP

# 安全攻击防御技术
攻击动机：炫耀，利益

潜在攻击：国家黑客、竞争对手、员工报复、个人黑客、黑客组织

## 场常见攻击方式
- DDos攻击
- SQL漏洞
- XSS脚本攻击
- 0-day 漏洞攻击
- 病毒攻击
- 入侵

##  应用层攻击
蠕虫攻击


# GDPR：

## 社会工程学


##  安全技术发展趋势

十大安全技术：
- 1.微分段 
- 2.远程浏览技术
- 3.欺骗技术
- 4.断点检测与响应
- 5.容器安全
- 6.网络流量分析
- 7.云访问安全代理
- 8.管理检测与响应
- 9.软件定义边界
- 10云工作负载保护平台


趋势一：安全服务化
二终端检测重要性
三 IP流量管控 向应用层转变
四 软件定义解决方案

## 操作系统与主机安全

### windows

### linux

## iptables 


## 杀毒软件技术
杀毒软件组成：
- 扫描器
  作用是 从很多文件中找到病毒文件

- 病毒库
  记录识别病毒
- 虚拟机 
  真正查杀是在虚拟机上执行的

### 脱壳技术

### 自我保护技术
怎么实现？
### 修复技术 
修复被病毒损害的文件
### 实时自动更新

### 主动防御技术

# 网络安全基础

#   双机热备

## VRRP 

### 3a 技术
- 为啥要认证： 


# 入侵概述

黑客分两种信息：一种是知道自己被黑的人和不知道自己被黑的人


拒绝服务攻击：
- UDP flood
- SYN Flood
- ICMP  flood
-  僵尸网络攻击


病毒攻击：

入侵检测：

入侵防御系统：

病毒简介：

病毒：

蠕虫：

木马

网关防病毒：
1.代理扫描技术
2.流扫描方式

检测到病毒后的响应动作：
- 告警
- 阻断
- 宣告
- 删除附件

# 加密
加密技术：
- 对称加密
  - 效率高、算法简单、系统开销少、适合加密大量数据
  - 常见对称加密算法
    - DES  基本弃用
    - 3DES 使用128位，最大的优点是可以使用已经存在的软件和硬件，并且在DES加密的算法上的技术可以轻松实现3DES
    - AES 采用128位分组长度，支持长度位128位、192位、256位、和384位的秘钥长度，128位能提供足够的安全性，但是AES 取代DES和3DES以增强安全性和效率已经是大势所趋。
    - 国密算法
      - 是由国家密码管理局编制的一种商用标准对称算法，国密算法的分组长度和秘钥长度都是128位。在安全级别要求高的情况下使用SM1或者SM4国密算法可以充分满足加密需求。
    - idea 输入铭文64位，秘钥为128位，生成6密文4位。其中ssl将idea算法包含其中。
- 非对称加密
  - 无法从一个秘钥推导出另外一个秘钥，公钥的加密信息只能用另一个的私钥进行解密。
  - 常见非对称加密算法
    - DH 算法在IPSec中尤其重要，用于解决秘钥交换的问题
    - RSA 既能实现数字签名 又能实现加解密。
    - DSA 数字签名算法，仅能实现数字签名，不能用于加密。
  -  散列算法
     -  双方进行hash 通过对比两个hash值来判断有么有被篡改
     - 常见散列算法
       - SHA
       - MD5
       - SM3
   - 
# 证书

## 数字证书

证书类型：
- 自签名证书
- CA证书
- 本地证书
- 设备本地证书
  - 颁发者是CA

- 加密解决的问题
   - 浏览器 网络传输

PKI技术是信息安全技术的核心，也是电子商务的关键和基础技术。


PKI 体系架构
- 终端实体
- 证书认证机构
- 证书注册机构
- 证书存储库

# 密码学

## 数字信封
## 数字签名
## 数字证书

VPN
虚拟专有网络

公钥加密：

通信点： 数据报文的源端
加密点：

传输模式：通信点和加密点是同一个点

缺陷：
无法实现主备防火墙的状态一致性
常用的服务器软件：

文件服务器：

漏洞扫描：
ping 

端口扫描

系统漏洞扫描

# 数据监控
## 数据监控手段
- 主动分析
  - 安全扫描 
    - 
  - 人工审计
  - 

扫描工具：
- 端口扫描  superscan 
  nmap
- 漏洞扫描   sparta
- 应用扫描 Burp suite 利用payload
  - 可以查看客户端漏洞
  - 服务端漏洞：sql 注入
  

日志事件：
- 信息事件
- 告警事件
- 错误
-  成功审核
-  失败审核
# 数据分析
## 日志分析
- who 用户类型
- when 什么时间点登录设备
- where  设备
- how  是通过那种方式接入网络
- what 访问那些资源

外部设置使用事件：

日志分析工具：
- Log Parser 功能强大日志分析
- log Parser Lizard 图形化界面

电子取证：
- 电子证据
  - 电子取证过程
  - 电子取证技术
    - 网络抓包
      - wireshark
      - sniffer
      - tcpdump
    - 日志分析
    - 蜜罐取证
    - 隐蔽代码取证
    - 数据挖掘技术
  - 新型取证技术
    - 芯片取证
      - tap 端口  
    - 云取证
    - 物联网取证
    - 边信道攻击
      - 取证是指周围功率、磁场等

电子证据特点：
-  电子证据容易被修改
-  不是单一的数据
-  无形性
   -  法规
      -  公安机关电子
      -  未完成。。。
- 取证：
  - 保护现场
  - 获取证据
    - 硬件工具  
      - 硬盘复制机
      - 硬盘只读锁- 防止硬盘数据被篡改
      - 取证一体机
      - 取证塔
      - 介质修复设备
    - 软件工具
  - 取证追踪技术
    - 日志分析
      - 操作系统日志
      - 防火墙日志
      - 应用软件日志
    - 设置蜜罐
    - 可以通过采用相关设备跟踪捕捉
- 保全
  - 证据保全技术
    - 加密技术
    - 数字信封数字签名
    - 数字证书
    - 时间戳
- 鉴定


# 网络安全事件分类
  - 有害程序事件
  - 网络攻击事件
  - 信息破坏事件
  - 灾害性事件
  - 设备设施故障
  - 信息内容安全事件
  # 网络安全事件等级
  - 特别重大的网络安全事件
  - 重大
  - 较大
  - 一般
  # 预警等级
    - 红色
    - 橙色
    - 黄色
    - 蓝色
  # 应急响应等级
    - 一级
    - 二级
    - 三级
    - 四级
  # mpdrr 响应模型
  是一个常见的具有纵深防御的体系的网络安全模型。包含了管理、  防护、检测、响应、恢复5个环节。是在pdrr的基础上加入管理环节，从而将技术和管理融为一体
  # 应急响应形式
    - 远程应急响应 （首先）
    - 本地应急响应





一些组织
  - 国家互联网应急中心
  - 
# 一些问题

- APT是什么？
  
- 戴明环

- 现在有哪些Ddos 防御设备

dataflow 

syslog - 回话日志 丢包功能
系统日志

# 材料

华为官方论坛：华安 -anti-ddos
## 一些网站
- 黑客技术 https://gitee.com/Glacier1043/projects

# 法律
- 中华人民共和国网络安全法 -- 是大纲性法律，需要和其他法律配合使用


